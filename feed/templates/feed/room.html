<!-- 
{% load static %}


<!DOCTYPE html>
<html>
<head>
    {% load static %}
    <link rel="stylesheet" type="text/css" href="{% static 'feed/style.css' %}">
</head>
<body> -->
<!-- <link rel="stylesheet" type="text/css" href="{% static 'feed/style.css' %}"> -->

<style>
.center {
  margin: 0;
  position: absolute;
  top: 20%;
  left: 50%;
  -ms-transform: translate(-50%, -50%);
  transform: translate(-50%, -50%);
}
</style>




<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8"/>
    {% load static %}
    <link rel="stylesheet" type="text/css" href="{% static 'feed/style.css' %}">
    <link rel="icon" href="{% static 'feed/favicon.ico' %}" type="image/x-icon"> 
    <title>Your Dashboard</title>
</head>
<body>

    <div class="outer"><div class="wave"></div></div>
    <div class="outer"><div class="wave2"></div></div>


    {% load static %}
    <center><img src="{% static 'feed/wavegoogle.png' %}" alt="My image" width="20%" height="10%">

    <!-- <center><textarea style="font-size:36pt;font-family:Avenir" id="chat-log" cols="20" rows="1"></textarea><br/> -->
   <!--  <center><h1><span>hi welcome back!</span></h1> -->
    <center><textarea style="font-size:12pt;font-family:Avenir" id="chat-log" cols="60" rows="25"></textarea><br/>
<!--     <poop><textarea style="font-size:10pt;font-family:Avenir" id="chat-log2" cols="50" rows="30"></textarea><br/>
 -->
    <center><p style="font-size:10;font-family:Avenir";></p><br><center>
    <center><input  id="chat-message-input" type="text" size="100"/><br/>
    <center><p style="font-size:10;font-family:Avenir";></p><br><center>
    <center><input id="chat-message-submit" type="button" size="20" value="help me google"/>
</body>
<script>
    var roomName = "{{ room_name|escapejs }}";

    var chatSocket = new WebSocket(
        'ws://' + window.location.host +
        '/ws/feed/' + roomName + '/');

    chatSocket.onmessage = function(e) {
        var data = JSON.parse(e.data);

        var message = data['message'];

        var query = data['query'];
      


        if (query == false) {
            document.querySelector('#chat-log').value += (" üè†: " + message + '\n');
        }
        else {
            document.querySelector('#chat-log').value += (" ü§î: " + message + '\n');
        }
    };

    chatSocket.onclose = function(e) {
        console.error('Chat socket closed unexpectedly');
    };


    document.querySelector('#chat-message-input').focus();
    document.querySelector('#chat-message-input').onkeyup = function(e) {
        if (e.keyCode === 13) {  // enter, return
            document.querySelector('#chat-message-submit').click();
        }
    };

    document.querySelector('#chat-message-submit').onclick = function(e) {
        var messageInputDom = document.querySelector('#chat-message-input');
        var message = messageInputDom.value;

        chatSocket.send(JSON.stringify({
            'message': message,
            'query': true
        }));

        messageInputDom.value = '';
    };
</script>
</html>